\section{Bit commitment}

Bit commitment schéma je protokol pre dvoch účastníkov, kde sa najprv účastník
zaviaže k nejakému bitu a následne po istom čase ho odhalí.
Formálne to môžeme definovať takto:

\begin{definicia}
Majme dve množiny $X,Y$ a funkciu $f\colon \{0,1\} \times X \to Y$, ktorú vieme
\clqq ľahko\crqq počítať. Od $f$ požadujeme navyše ešte tieto vlastnosti:
\begin{itemize}
\item Zo znalosti $f(b,x)$ je ťažké určiť $b$ - vlastnosť utajenia.
\item Je ťažké nájsť $x, y$ také, že $x \neq y$ a $f(0,x) = f(1,y)$ - vlastnosť záväznosti.
\end{itemize}
Potom bit commitment protokol vyzerá nasledovne:
\begin{enumerate}
\item $A$ zvolí $b \in \{0,1\}$ ku ktorému sa chce zaviazať a $x \inr X$
\item $A \to B$: $y = f(b,x)$ - záväzok
\item $A \to B$: $x$ - odhalenie, môže prísť po istom čase
\item $B$ overí, či $y = f(0,x)$ alebo $y = f(1,x)$
\end{enumerate}
\end{definicia}

Tento protokol môžeme realizovať viacerými spôsobmi. 

\subsection{Bit commitment pomocou RSA}

Majme nejakú inštanciu RSA systému, teda trojicu $(n,e,d)$, kde účastník $b$ nepozná súkromný kľúč.
Bit commitment realizujeme nasledovne:
\begin{enumerate}
\item Záväzok: $A$ si zvolí $x \inr \mathbb{Z}_n^*$ a pošle $B$: $y = x^e \pmod n$, v tomto prípade je $b$ najmenej signifikatný bit z $x$
\item Odhalenie: $A$ pošle $x$. $B$ overí, či $x^e \pmod n = y$
\end{enumerate}

Vlastnosť utajenia je dodržaná, keďže možnosť zistiť $b$ je ekvivalentná rozbitiu RSA schémy.
Vlastnosť záväznosti je tiež dodržaná, keďže k jednému $y$ existuje iba jedno $x$. V tomto prípade ide o nepodmienenú bezpečnosť.

\subsection{Bit commitment pomocou diskrétneho logaritmu}
Majme konečnú grupu $G$ a $g, h \in G$, pričom v tejto grupe nevieme efektívne rátať diskrétny logaritmus. Zároveň
nevieme diskrétny logaritmus $h$ pri základe $g$.  Realizácia funkcie $f(b,x)$ bude nasledovná: $$f(b,x) = g^x h^b$$

Utajenie je v tomto prípade nepodmienene bezpečné, lebo existujú $x, y$ také, že: $g^x = g^y h$ a teda nevieme jednoznačne
určiť $b$ zo znalosti $f(b,x)$.
Vlastnosť záväznosti výplýva z toho, že nepoznáme diskrétny logaritmus $h$ pri základe $g$.

Môžeme si všimnúť, že sme vedeli dosiahnúť pri jednej vlastnosti (utajenie, záväznosť) nepodmienenú bezpečnosť.
Nasledujúca veta hovorí o tom, že nepodmienenú bezpečnosť nevieme dosiahnúť pri oboch vlastnostiach.

\begin{veta}
Neexistuje bit commitment schéma, ktorá by garantovala nepodmienenú bezpečnosť pri utajení a záväznosti.
\end{veta}

\begin{dokaz}
Sporom. 
Uvažujeme funkciu bit commitment schémy $f(b,x)$. Ak je táto schéma garantuje nepodmienenú záväznosť, tak
platí $\forall x, y\colon f(x,b_1) = f(y,b_2) \Rightarrow b_1 = b_2$ (teda neexistuje vhodná dvojica
$x, y$ ktorou by sme vedeli porušiť záväzok). Z toho vyplýva, že keď dostaneme $z = f(x,b)$, tak vieme 
vyskúšaním všetkych $(x,b)$ určiť vyhovujúcu dvojice, ktoré ale budú mať rovnaký commitnutý bit.
A teda táto schéma nemôže garantovať nepodmienené utajenie.
\end{dokaz}
\todo{IDS pre ham cycle pomocou BC}



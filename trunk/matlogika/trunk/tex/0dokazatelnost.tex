% vim: set fdm=marker:
\section{Pravdivosť a dokázateľnosť}

\begin{definicia}[Logická platnosť formuly]
%%% {{{
    Nech $L$ je jazyk prvého rádu a $A$ je formula jazyka
    $L$. Hovoríme, že formula $A$ je \emph{logicky platná},
    označujeme $\models A$,
    ak je splnená v ľubovoľnej realizácii $m$ jazyka $L$.

    \begin{align*}
        \mathcal{M} & \models A[e] \quad \forall \mathcal{M} \\
        \mathcal{M} & \models A \\
        & \models A
    \end{align*}
%%% }}}    
\end{definicia}

\begin{poznamka}
    Formula $A$ je logicky platná, práve vtedy, keď je pravdivá
    bez ohľadu na realizáciu symbolov jazyka $L$.
\end{poznamka}

\begin{definicia}[Teória]
%%% {{{
    Nech $L$ je jazyk prvého rádu a $T$ je množina formúl
    jazyka $L$. Hovoríme, že $T$ je teória 1. rádu predikátovej logiky
    s jazykom $L$ (t.j. množina formúl $T$ je množina axióm teórie).
%%% }}}
\end{definicia}

\begin{definicia}[Model teórie]
%%% {{{
    Nech $T$ je teória v jazyku $L$, $\mathcal{M}$ je realizácia jazyka $L$.
    Hovoríme, že $\mathcal{M}$ je modelom teórie $T$, ak pre každú formulu $A$
    patriacu $T$ platí $\mathcal{M} \models A$.
%%% }}}
\end{definicia}

\begin{definicia}[Tautologický dôsledok]
%%% {{{
    Hovoríme, že formula $A$ je
    sémantickým/tautologickým dôsledkom (vetou teórie) množiny formúl $T$,
    resp. $A$ je $T$-platná, ak $A$ je splnená v každom modeli teórie $T$.
    Túto skutočnosť označujeme $T \models A$.
%%% }}}
\end{definicia}

\begin{priklad}{Teória ostrého usporiadania}
    Majme predikát < na množine $N$, tak, že platí
    \begin{itemize}
    \item[1] $(\forall x)(\forall y) ((x < y) \implies \neg (y < x))$
    - asymetrickosť
    \item[2] $(\forall x)(\forall y)(\forall z) (((x<y) \land (y<z)) \implies
        (x<z))$ - tranzitívnosť
    \item[3] $(\forall x)(\forall y)( (x\not=y) \implies ((x<y) \lor (y<x)))$ -
     trichotomickosť
    \end{itemize}
    Ak sú splnené axiómy 1,2, tak daná množina je modelom \fixme{}. Ak je
    navyše splnená aj axióma 3, množina tvorí teóriu ostrého
    usporiadania.
\end{priklad}

\begin{priklad}{Elementárna aritmetika}
%%% {{{
    Jazyk prvého rádu rozšírme o nasledujúce symboly:
    \begin{itemize}
        \item $0$ - konštanta (nulárny funkčný symbol),
        \item $S$ - $S(x)=x+1$, čiže nasledovník (unárny funkčný symbol),
        \item $+,*$ - binárne funkčné symboly
    \end{itemize}
    Axiómy elementárnej aritmetiky:
    \begin{itemize}
        \item[1.] $\neg S(x) = 0$
        \item[2.] $S(x) = S(y) \implies x=y$
        \item[3.] $x+0 = x$
        \item[4.] $x+s(y) = s(x) + y$
        \item[5.] $x * 0 = 0$
        \item[6.] $x * S(y) = (x*y)+x$
    \end{itemize}
    Zoberme si realizáciu 
        $\mathcal{N}=\langle N^+,0,S,+,* \rangle, N^+ =
        \{1,2,\dots\}$.
        Potom $\mathcal{N}$ je model pre elementárnu aritmetiku,
        zvykne sa označovať aj ako \emph{štandardný model}.
        Takejto aritmetike sa hovorí Robinsonova aritmetika.
        Ak pridáme axiómu indukcie, dostaneme Peanovu aritmetiku.
%%% }}}
\end{priklad}

\begin{poznamka}
    Ak si nebudeme všímať axiómy, ale iba relačnú štruktúru
    $\mathcal{N}=\langle N^+,0,S,+,* \rangle$.
    Zoberme namiesto $S$ konštantu $1$.
    Ciže $\mathcal{N}'=\langle N^+,0,1,+,* \rangle$.
    $\mathcal{N}'$ realizuje jazyk teórie telies.
    Lenže $\mathcal{N}'$ nie je modelom tohoto jazyka. \fixme{preco?}
\end{poznamka}

\begin{priklad}[Teória grúp]
%%% {{{
    Špeciálne symboly sú $+,-$.
    Axiómy sú:
    \begin{enumerate}
            \item $((x+y)+z) = (x+(y+z))$
            \item $(x+0) = (0+x) = x$
            \item $x, -x, x+(-x) = 0 = (-x)+x$
            \fixme{co tam znamena x,-x?}
    \end{enumerate}
%%% }}}
\end{priklad}

Ďalším cieľom je stotožniť dokázateľné formuly s tautológiami.

\begin{veta}[o korektnosti]
    Ak $T$ je teória v jazyku $L$ a ak formula $A$ je taká,
    že $T \provable A$, potom $T \models A$.
\end{veta}

\begin{dokaz}
%%% {{{
    Nech $A_1, A_2, \ldots A_n$ je odvodenie (dôkaz) formuly $A$
    z predpokladov $T$ (v teórii $T$). $A_1, A_2, \ldots A_n(A)$ kde
    $A_n=A$. Nech $\mathcal{M}$ nech je ľubovoľný model teórie $T$ 
    (čiže platí $\mathcal{M} \models A$).
    Ukážeme (indukciou podľa dĺžky dôkazu), že platí $\mathcal{M} \models A_i$
    pri predpoklade, že pre $A_j, j < i$ platí $m \models A_j$.

    Do dôkazu sa $A_i$ môže dostať niekoľkými spôsobmi:
    \begin{enumerate}
    \item $A_i \in T, \mathcal{M}$ je model $T$. Potom 
        $\mathcal{M} \models A_i$ a teda $T \models A_i$

    \item $A_i$ sa dostane do dôkazu ako axióma predikátovej logiky:
    \begin{enumerate}
        \item $A_i$ je axióma výrokovej logiky -- je poskladaná z
            atomických formúl a logických spojok $\neg$ a $\implies$. Potom
            $A_i$ je tautológia výrokovej logiky (ak formula je tautológia,
            jej pravdivostná hodnota nezávisi od ohodnotenia premenných, a
            $\mathcal{m} \models A_i$, teda $\mathcal{M} \models A_i[e]$).

        \item $A_i$ je axioma špecifikácie, teda je tvaru 
            $A_i: (\forall x) B \implies B_x[t]$, 
            $t$ je substitúcia za $x$ do $B$. 
            Chceme ukázať, že formula bude pravdivá
            pri každom ohodnotení $e$.
            Zaujíma nás prípad, kedy $(\forall x) B$ je pravdivý.\footnote{
                v opačnom prípade implikácia triviálne platí}
            To znamená, že pre ľubovoľné indivíduum $m$ platí (Z Tarského
            definície) $B[e(x/m)]$, teda $e(x)=m$.
        
            Tvrdenie zo zimného semestra:
            \begin{equation*}
                \mathcal{m} \models A_{x_1, \ldots x_n}[t_1, \ldots t_n][e] 
                    \Leftrightarrow 
                \mathcal{m} \models A[e(x_1/m_1, \ldots x_n/m_n)]
            \end{equation*}
            a
            \begin{equation*}
              t_i[e] = m_i.
            \end{equation*}

            Ak položím tvrdenie $B_x[t][e]$, zmení sa to na $B[e(x/m)]$ a
            táto formula je pravdivá v $\mathcal{m} \models B[e(x/m)]$.
            \fixme{co tym chcel autor povedat?}

        \item $A_i: (\forall x) (B \implies C) \implies (B \implies
            (\forall x) C)$ a $x$ nie je voľná v $B$.
            Mali by sme dokázať, že platí $\mathcal{M} \models A_i$.
            Zaujímavý prípad je, keď
            $\mathcal{M} \models (B \implies C)[e(x/m)]$ platí, vtedy sa
            pozeráme na platnosť $(B \implies (\forall x)C)$.
            Posledná formula je ale ekvivalentná s $\neg B \lor (\forall x) C$.
            Dôležitý je tiež predpoklad, že $x$ nie je voľná v $B$,
            a teda nezávisí od ohodnotenia viazanej premennej.
            Ak $B$ nie je pravdivá, tak disjunkcia je pravdivá a
            problém je vyriešený.
            Ak by $B$ bola pravdivá, tak by malo byť $(\forall x) C$
            pravdivé. Lenže to musí byť, inak by neplatilo
            $(\forall x) (B \implies C)$.
    \end{enumerate}

    \item $A_i$ je niektorá axióma rovnosti:
    \begin{enumerate}
        \item $A_i: x=x$. Potom $A[e]$ je $m=m$ a teda pri každom
            ohodnotení $\mathcal{M} \provable A$.

        \item $A_i: x_1 = y_1 \implies x_2 = y_2 \implies \ldots 
            \implies f(x_1, \ldots, x_n) = f(y_1, \ldots, y_n).$.
            Zaujíma nás prípad, keď  $e(x_i) = e(y_i)$, teda
            $e(x_i)=e(y_i)=m_i$. Vtedy dostávame
            \begin{equation*}
              m_1=m_1 \implies m_2=m_2 \implies \ldots
                f(m_1, \dots, m_n) =f(m_1, \dots, m_n)
            \end{equation*}

        \item $A_i: x_1 = y_1 \implies x_2 = y_2 \implies \ldots 
            \implies P(x_1, \ldots, x_n) = P(y_1, \ldots, y_n).$.
            Zaujíma nás opäť prípad, keď $x_i$ aj $y_i$ reprezentujeme 
            rovnakým indivíduom: $e(x_i/m_i)$ a $e(y_i/m_i)$.
            Potom
            $P_m(m_1, \ldots, m_n) = P_m(m_1, \ldots, m_n)$, kde $(m_1,
        \ldots m_n) \in P$ buď je alebo nie je v relácii.
    \end{enumerate}

    \item Odvodzovacie pravidlá, $A_i: A_j, A_k$, pričom $x < i$ a
        $k < i$.
        \begin{enumerate}
        \item Modus Ponens:
            $A_i: A_k$, ak vieme
            $T \provable A_j, T \provable A_j \implies A_k$.
            Podľa IP platí
            $T \models A_j, T \models A_j \implies A_k$ a vďaka
            korektnosti MP teda aj $T \models A_k$.

        \item Pravidlo zovšebecnenia: $A_i: (\forall x) A_j$.
            Z IP platí $\models A_j \Rightarrow 
                \mathcal{M} \models A_i[e(x/m)]$
            pre ľubovoľné indivíduum $m$. Tým pádom ale
            $\models (\forall x) A_j$.
            
        \end{enumerate}
    \end{enumerate}
%%% }}}
\end{dokaz}

\begin{priklad} % existencia nedokazatelnej formuly a jej negacie v el. ar.
%%% {{{
    Uvažujme elementárnu aritmetiku, ktorá má svoj štandardný
    model. Uvažujme formulu $x=0$ v $N$.
    \begin{itemize}
        \item Nech $e(x) = m \neq 0$. Potom formula $A: x=0$ nie je
        splnená pre ohodnotenie $e$ a teda $m \notmodels A[e]$.
        \item Nech $e(c) = 0$. Potom formula $A': \neg x=0$ je je
        splnená v ohodnotení $e$, t.j. $m \notmodels A'[e]$.
    \end{itemize}
    To ale znemaná, že formula $A$ ani jej negácia
    nie sú dokázateľné v elementárnej aritmetike.
%%% }}}
\end{priklad}


\begin{poznamka} % neexistencia vety o dedukcii v predikatovej logike
%%% {{{
    Vetu o dedukcii v predikátovej logike nemožno vysloviť pre
    ľubovoľnú formulu.
    \begin{align*}
            A: & \neg x=0 \\
            A': & \neg y=0 \\
    \end{align*}
    $A'$ je inštancia formuly $A$. Potom ale platí:
    \begin{align*}
            A \provable A' & \quad \mbox{čiže}\\
            \neg x=0 \provable \neg y=0
    \end{align*}
    Môžem podľa vety o dedukcii napísať, že 
    $\provable \neg x=0 \implies y=0$? Nie, pretože
    \begin{align*}
        A \implies A' \\
        e: \\
        e(x)= m \neq 0 \\
        e(x)= 0 \\
        m \notmodels (A \implies A')[e]
    \end{align*}
%%% }}}
\end{poznamka}

\begin{dosledok}{Vety o korektnosti}
    Ak teória $T$ v jazyku $L$ má model $m$, potom $T$ je
    bezposporná.
\end{dosledok}
\begin{dokaz}
%%% {{{
    Nech $m$ je model $T$ a $A$ je ľubovoľná uzavretá formula jazyka $L$.
    Potom práve jedna z formúl $A$, $\neg A$ je pravdivá v modeli $m$
    (podľa Tarského definície splniteľnosti).
    Lenže tá, ktorá nie je pravdivá, nie je ani dokázateľná 
    (podľa vety o korektnosti).
%%% }}}
\end{dokaz}

\paragraph{}
\par Tento výsledok hovorí, ze ak máme vyšetriť bezospornosť nejakej teórie,
treba nájsť jej model. Keď si zoberieme predikátovú logiku:

\par Každá realizácia jazyka predikátovej logiky je modelom (neskôr nám bude
stačiť zobrať model, ktorý má jedno jediné indivíduum).

\par
Syntaktický prístup ku dôkazu bezospornosti: Teóriu, ktorej bezospornosť chceme
dokázať, transformuje pomocou istých pravidiel do teórie, o ktorej vieme, že je
bezsosporná  (my budeme predikátovú logiku transformovať do výrokovej logiky).

\begin{priklad}
    Máme jazyk $L$ -- jazyk prvého rádu, ktorý rozšírime o konštantu $c \notin L$.
    Dostaneme tak jazyk $L' = L \union \{c\}$.
    Proces \fixme{} bude prebiehať nasledovne:
    Každý term formuly $A$ nahradíme konštantou $c$,ďalej  z formuly
    vynechávame všetky kvantifikátory a premenné bezprostredne spojené s
    kvantifikátorom.

    Každej formule $A$ na jazyku $L$ priradíme formulu $A^*$ na jazyku $L'$:
    \begin{enumerate}
            \item ak A je tvaru $A: P(t_1, \cdots t_n)$, tak $A^*: P(c, c, \cdots,c)$.
            \item $A: B \square C$, potom $A^*: B^* \square C^*$.
            \item $A: \neg B$, potom $A^*: \neg B^*$
            \item $A: (Qx) B$, potom $A^*: B^*$.
    \end{enumerate}

Ak $L$ je jazyk bez rovnosti a $\provable^L A$, potom $A^*$ je tautológia. Ak $L$
je jazyk s rovnosťou a $\provable^L A$, potom $A^*$ je tautologický dôsledok $c=c$.

\par Tvrdíme, že pre žiadnu formulu $A$ nie je $\provable A$ aj $\vdash \neg A$. Ak
by to platilo, dostali by sme sa do sporu, že vo výrokovej logike je $\provable
A^*$ aj $\provable \neg A^*$.
\fixme{toto je koniec toho prikladu?}
\end{priklad}

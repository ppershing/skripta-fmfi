\section{Veta o kompaktnosti}

Budeme definovať rozšírenia (ktorá ani nepomôžu, ani neuškodia :-). (Henkinova
veta, Lindenbaumova veta)

\begin{definicia}
    Jazyk $L'$ je \emph{rozšírením jazyka} $L$, ak každý
    špeciálny symbol jazyka $L$ (prípadne aj symbol $=$)
    je v jazyku $L'$ obsiahnutý s rovnakým významom a s rovnakou árnosťou.
\end{definicia}

\begin{priklad}
    Nech jazyk $L'$ je jazyk s rovnosťou a špeciálnymi symbolmi $<$ a $0$.
    Jazyk $L$ má symboly $<$ a $=$. Jazyk $L'$ je rozšírením jazyka $L$.
\end{priklad}    

\begin{definicia}
    Majme teóriu $T'$ s jazykom $L'$. Hovoríme, že $T'$ je
    rozšírením teórie $T$ s jazykom $L$, ak platí,
    že $L'$ je rozšírením jazyka $L$ a pre každý formulu $A$ jazyku $L$
    platí $T \provable A, T' \vdash A$. \fixme{je tam namiesto ciarky
    implikacia ci ekvivanencia}
\end{definicia}


\begin{veta}[Henkinova]

    \begin{align*}
        \provable (\exists x) \neg B \implies \neg B_x[c] \\
        T \provable  \neg B_x[c] \\
        m \models  (\forall x) B \iff T (\forall c) B \\
    \end{align*}
    \fixme{Co vlastne hovori tato veta? Co su predpoklady a co
    vystup?}
    \fixme{je o chvilu zase ta ista veta?}
\end{veta}
\fixme{nema tu byt dokaz?}


\par Relačná štruktúra $<M, P_m, t_m>$ -- model pre množinu formúl $T$. Vezmeme
ľubovoľnú formulu $A \in T$ a platí $m \models A$, potom $T$ je modelom.

\par $T \provable A$. $A'$ -- uzáver A. $$ m \models A' \iff T \vdash A'$$. Ak v
modeli $m$ je splnená formula $A'$, potom musí byť splnená aj $A$. Štruktúra,
ktorú sme uvažovali, je modelom pre našu teóriu.

\paragraph{Záver:} Pre idealizovanú teóriu viem vytvoriť model.

\par Ďalšou úlohou je rozšíriť bezospornú teóriu do úplnej a Henkinovskej.

\paragraph{Príklad (čo je to model):} Teória grúp -- je to teória s rovnosťou a
používa špeciálny symbol $+$ a existuje v ňom neutrálny prvok. Axiomy:

$$\forall x,y,z (x+y)+z = x+(y+z)$$
$$(x+0) = (0+x) = x$$
$$(x+(-x)) = ((-x)+x) = 0$$.

\par Ak si vezmeme relačnú štruktúru $m=<N^+,0,+>$, táto realizuje jazyk teórie
grúp, ale nie je modelom (nie všetky axiomy nie sú splnené). Pokiaľ ale vezmeme
$m=<Z,0,+>$, táto množina tvorí model teórie grúp.  

\par Máme daný jazyk $L$, jazyk $L'$, ktorý je rozšírením $L$ (obsahuje každý
symbol z $L$ s rovnakou hodnotou a árnosťou). Vezmime jazyk $L= \{0, 1, +,
\cdot \}$. Ak nad týmto jazykom budeme pridávať axiómy, môžeme získať teórie ako
teória okruhov, teória oborov integrity, teória telies, \ldots . Zistíme, že
teória telies je rozšírenie teórie oborov integrity a tie sú rozšírením teórie
okruhov. 

\par Ak máme teóriu $T$, $T'$ je rozšírenie $T$ a je bezosporná. Potom teória
$T$ je taktiež bezosporná. Ak by sme pripustili, že teória $T$ je sporná, potom
by sa našla taká formula, že $T \provable A$ aj $T \vdash \neg A$, z čoho vyplýva
$T' \provable A$ aj $T' \vdash \neg A$.

\begin{definicia}[Konzervatívne rozšírenie]
%%% {{{
    Majme teóriu $T$ a teóriu $T'$. Hovoríme, že $T'$ je
    \emph{konzervatívne rozšírenie} teórie $T$,
    ak $T'$ je rozšírenie $T$ a pre každú formulu $A$ na jazyku $L$,
    pre ktorú platí $T' \provable A$ implikuje $T \provable A$.
%%% }}}
\end{definicia}    

\begin{lema} 
    Nech $T'$ je konzervatívne rozšírenie $T$, potom $T$ je
    bezosporná vtedy a len vtedy, keď $T'$ je bezosporná.
\end{lema}
\begin{dokaz}
%%% {{{
    Vyplýva to z toho, že ak zoberieme konzervatívne rozšírenie,
    pre ľubovoľnú formulu pôvodného jazyka platí, že:
    \begin{equation*}
        T' \provable_L A \Rightarrow T \vdash A
    \end{equation*}
%%% }}}
\end{dokaz}    

\begin{veta}{Henkinova} 
    K ľubovoľnej teórii $T$ môžeme zostrojiť Henkinovu
    teóriu $T_H$, ktorá je konzervatívnym rozšírením teórie $T$.
\end{veta}    

\begin{dokaz}
%%% {{{
    Teóriu $T$ rozšírime a priradíme k nej teóriu $T_H$ tak, že
    jednak rozšírime jazyk teórie a jednak pridáme axiómy.
    Nech teória $T$ má jazyk $L$.
    Budeme tvoriť jazyk rozšírený jazyk $L_H$ (budeme pridávať konštanty):

    \fixme{<skontroluj, malé písmená>}

    \par Vezmime si formulu $A$ napísanú v jazyku $L$, ktorá má jedinú premennú $x$
    priradíme jej premenné $c_A$ a $c_{\neg A}$ a nasledovné axiomy: 

    $
    \begin{array}{lll}
    \mbox{(*)} & (\exists x) A \implies A_x[c_A] & (H1) \\
    \mbox{(**)} & A_x{c_{\neg A}} \implies (\forall x) A & (H2) \\
    \end{array}
    $

    Stačila by nám aj jedna konštanta:
    $$B: \neg A$$
    $$ (*) (\exists x) \neg A \implies \neg A_x[c_{\neg A}]$$
    $$\neg \neg A_x[c_{\neg A}] \implies (\forall x) \neg \neg A$$
    $$A_x[c_{\neg A}] \implies (\forall x) A$$

    Alebo:
    $$B: \neg A$$
    $$\neg A_x[c_{??} \implies (\forall x) \neg A$$
    $$(\exists x) A \implies A_x[c_A]$$
    \textbf{</skontroluj, malé písmená>}

    \par $C_1$ bude množina všetkých konštánt $c_A$ a $c_{\neg A}$. Týmito konštantami
    rozšírime jazyk $L$. Induktívne pokračujeme ďalej a podobne vytvárame množinu $C_2$
    (zoberieme ľubovoľnú formulu $A$ nad rozšíreným jazykom, ktorá mala jedinú voľnú
    premennú $x$ a obsahovala aspoň jednu konštantu prvého rádu).
    Pridané konštanty budeme nazývať konštanty druhého rádu. Pokračujeme až po
    $C_n$.

    \par Vezmeme formuly, ktoré majú jedinú voľnú premennú $x$ a obsahujú nejakú
    pridávanú konštantu rádu $n$.

    Označme
    \begin{equation*}
        L(C) = L \union C_1 \union C_2 \union \ldots
    \end{equation*}
    Teóriu $T_H$ bude tvoriť rozšírenie $L(C)$ jazyka $L$, axiómy budú axiómy $T$
    ku ktorým pridáme všetky axiómy $H1$.
    Je ihneď zrejmé, že $T_H$ je rozšírenie teórie $T$.
    Potrebujeme ukázať, že $T_H$ je konzervatívne rozšírenie teórie $T$, t.j.
    že pre každú formulu $A$ jazyka $L$ platí 
    $T_H \provable A \Rightarrow T \models A$

    Nech platí, že v $T_H$ je dokázateľná formula $A$
    a nech $B_1, B_2, \ldots ,B_n$ sú všetky Henkinovské
    axiómy vyskytujúce sa v dôkaze $A$. Keďže dôkaz je konečný, týchto
    axióm je konečný počet. Ďalej môžeme uvažovať (ako sme už ukázali),
    že všetky axiómy $B_1, \ldots, B_n$ sú typu $H1$.
    Máme teda
    \begin{equation*}
        T, B_1, \dots ,B_n \provable A
    \end{equation*}
    Keďže axiómy $B_1,\ldots,B_n$ sú uzavreté formuly, môžeme použiť vetu o dedukcii
    a dostávame
    \begin{equation*}
        T \provable B_1 \implies B_2 \implies \ldots \implies B_n \implies A
    \end{equation*}
    Axiómy navyše môžeme poprehadzovať tak, aby $B_1$ obsahovala konštantu maximálneho rádu.
    Teda $B_1$ je tvaru $(\exists x) D \implies D_x[c_D]$, pričom $c_D$ nie je je použitá
    v $B_2, \ldots, B_n$. Použijeme vetu o konštantách a dostávame
    \begin{equation*}
        T \provable ((\exists x) D \implies D_x[w] ) \implies (B_2 \implies \ldots \implies B_n \implies A)
    \end{equation*}
    kde $w$ je nová premenná.
    Teraz môžeme použiť pravidlo zavedenia existenčného kvantifikátora --
    ak $T \provable A \implies B$ a $w$ nie je voľná v $B$, potom $T\provable (\exists w) A \implies B$.
    Čiže
    \begin{equation*}
        T \provable (\exists w) ((\exists x)D \implies D_x[w]) \implies (B_2 \implies
            \ldots \implies B_n \implies A)
    \end{equation*}
    Ďalej použijeme prenexnú operáciu $(Qx) (A\implies B) \iff (A\implies
    (Qx)B)$ (za predpokladu, že $x$ nie je voľná v $A$), aby sme $w$
    preniesli dovnútra. Výsledkom je
    \begin{equation*}
        T \provable ((\exists x) D \implies (\exists w)D_x[w]) \implies B_2 \implies \ldots \implies B_n \implies A
    \end{equation*}

    Použijeme z vety o variantoch ale máme
    \begin{equation*}
        T \provable ( \exists x ) D \implies (\exists w) D_x[w] \\
    \end{equation*}
    z čoho pomocou pravidla modus ponens získame
    \begin{equation*}
        T \provable B_2 \implies B-3 \implies \ldots \implies B_n \implies A
    \end{equation*}
    Opakovaním postupu ďalších $n-1$ krát dostaneme $T \provable A$.

    Ukázali sme, že $T_H$ s jazykom $L(C)$ je konzervatívne rozšírenie jazyka $L$.
%%% }}}
\end{dokaz}

\begin{veta}[Lindenbaum]
    Ak $T$ je bezosporná teória s jazykom $L$, potom existuje úplné
    rozšírenie $T'$ teórie $T$ s rovnakým jazykom $L$.
\end{veta}

\begin{dokaz}
    Nech $\mathscr{S}$ je množina všetkých uzavretých formúl jazyka $L$.
    Ďalej definujeme
    $\mathcal{B} = \{ S \mid S \subseteq \mathscr{S}, T \union S
        \mbox{ je bezosporná}\}$.
    Množina $\mathcal{B}$ je čiastočne usporiadaná na $\subseteq$ a
    má konečnú vlastnosť -- keď zoberiem ľubovoľnú podmnožinu
    $S \subseteq \mathscr{S}$, bude platiť
    \begin{equation*}
        S \in \mathcal{B} \iff \forall \mbox{ konečné } S' \in
        \mathcal{B}: S' \subseteq S
    \end{equation*}

     Potrebujeme ukázať, že $\mathscr{S} \subseteq
     \mathcal{B}\times\mathcal{B}$ je čiastočné usporiadanie vzhľadom
     na inklúziu, čiže je

    \begin{itemize}
        \item reflexívna
            \begin{equation*}
                \forall S \in \mathcal{B}: (S,S) \in \mathscr{S}
            \end{equation*}
        \item antisymetrická
            \begin{align*}
                (S_1,S_2) \in \mathscr{S} \land (S_2,S_1) \in \mathscr{S}
                    \implies S_1 = S_2, \quad \mbox{t.j.} \\
                S_1 \subseteq S_2 \land S_2 \subseteq S_1 \implies S_1 = S_2
            \end{align*}
        \item tranzitívna. (dokážeme analogicky).
    \end{itemize}

    $\mathcal{B}$ je čiastočne usporiadaná inklúziou.
    \begin{equation*}
        \emptyset \in \mathcal{B}, \mbox{ lebo } T \union \emptyset = T
    \end{equation*}
    Ak by $\emptyset$ nebola v $\mathcal{B}$, potom by $T$ bola sporná.

    Množina $\mathcal{B}$ má konečnú vlastnosť:
    \begin{equation*}
        S \in \mathscr{S}, S \in \mathcal{B} \iff \forall \textrm{konečná }S' \subseteq S, T \union S' 
            \textrm{ je bezosporná, teda }S' \in \mathcal{B}
    \end{equation*}

    $\Rightarrow:$

    \begin{align*}
        S \in \mathcal{B} \implies T \union S  \mbox{ je bezosporná}\\
        S' \subseteq S, S' \mbox{ je konečná}, T \union S' 
            \mbox{ je bezosporná}\implies S' \in \mathcal{B}
    \end{align*}

    $\Leftarrow:$ Predpokladajme, že $S'$ je ľubovoľná konečná podmnožina $S$,
    $T \union S'$ je bezosporná, $S' \in \mathcal{B} \implies S \in \mathcal{B}$.

    Tvrdenie dokážeme sporom.
    Predpokladajme, že $S$ nepatrí do $B$.
    Potom $T \union S$ je sporná, čiže pre ľubovoľnú dokázateľnú formulu A, $\provable \neg(A \implies A)$.

    Nech $A_1, A_2, \cdots A_n$ je dôkaz (odvodenie) $\neg(A \implies A)$.
    Nech $B_1, B_2, \cdots B_m$ sú tie, ktoré sa v tom dôkaze vyskytujú a patria do $S$.
    Tvrdíme, že $m>=1$. Prečo? Inak by bola $T$ sporná.

    $S'=\{B_1 ... B_m\}$ je konečná a nenachádza sa v množine $\mathcal{B} \implies$ SPOR 
    (Jedine, kde mohol vzniknúť, je pri predpoklade $S \notin \mathcal{B} )\footnote{poznámky Lukáša H.}$

    \begin{lema}[Princíp maximality]
        Každá neprázdna neprázdna podmnožina $\mathcal{P}(\mathscr{S})$ s konečnou vlastnosťou 
        má maximálny prvok vzhľadom na inklúziu.
    \end{lema}

    Nech $S_0$ ja maximálny prvok množiny $\mathcal{B}$ vzhľadom na inklúziu.
    Položme rozšírenie $T'$ (ktoré hľadáme)  $T' = T \union S_0$.
    Nech $A$ je ľubovoľná uzavretá, potom v $T'$ buď platí
    $T' \provable A $ alebo $T' \vdash \neg A$.

    Nech $T'$ nie je úplná teória. Čiže ani jedno z predošlých nie je dokázateľné.
    Čiže $\neg A$ sa nenachádza ani v $T$ ani $S_0$. 

    Uvažujme, že $T' \union \{\neg A\}$ je bezosporná teória.
    To je spor s tým, že $S_0$ je maximálny prvok z $\mathcal{B}$ vzhľadom na inklúziu.
    Pozn.: Odvoláme sa na predtým dokázaný dôsledok: máme $A$, $A'$ je uzáver.
    Potom $T \provable A \iff T \union \{\neg A'\}$ je sporná teória.

    Dosiahli sme zúplnenie teórie. Máme $T$, získali sme $T'$, ktorá je bezosporná a je úplným rozšírením.
\end{dokaz}\fixme{naozaj je konec dokazu tu?}

Keď máme $T$, $L$, vieme to rozšíriť na $T_H$ s jazykom $L(C)$. Keď máme $T$ bezospornú, $T(H)$ s jazykom $L(C)$ je tiež bezosporná. Dokážem vytvoriť Hankinovskú úplnú $T_H'$, $L(C)$ a pre ňu model $m$.

$T, L$ - bezosp.

$T', L'$ - úplná hakinovská

$T', L' - m'$

$T'$ je bezosp. rozšírenie $T$, potom $T \provable A \iff T' \vdash A$ Potom platí, že keď zooberiem ľub. $A \in T$, potom  $m' \vdash A$. Pre ľubov. rozšírenie $T$, $T'$ $A\in T, T' \vdash A \implies m' \models A, m, v T$.

\paragraph{Definícia.}

$T,L$, $T',L'$, $L'$ je rozš. $L$. Nech $m'$ je realizácia jaz. $L'$, redukovaním štruktúry $m'$ na jaz. $L$ získame realiz. $T$ v jaz. $L$.

$m$: univerzum $m$ bude to isté univerzum ako univerzum $m'$.

$m$ obsahuje iba také relácie a zobrazenia, ktoré realizujú špecálne symboly jazyka $L$ v realizácii $m'$. Tzn. ak $f$ je ľub. n-ány funkčný symbol $L$, $f_m'$ je zobrazenie, ktoré realizuje $f$ v $m'$, potom zostáva realizáciou $f$ v $m$.

Podobne s predikátom $P$.

$m$ vzniklo redukciou $m'$ na jazyk $L$. $(m: m' \triangle L)$
\footnote{na prednáške bolo miesto $\triangle$ použíté niečo ako $\land$, ale jedna nožička bola dlhšia ako druhá}.
$m'$ je expanzia realizácie $m$

\paragraph{Poznámka.}
$m$ je redukcia $m'$ na jazyk $L$ ($m'\triangle L$), $A$,$L$. Chceme ukázať $m \models A \iff m' \models A$. Všimnime si, že univerzum, t.j. aj ohodnotenia a symboly, sú tie isté. Preto, ak $m' \models A$, potom aj $m \models A$ a obrátene. Teraz dokážeme, že každá bezosporná teória má model.

\paragraph{Veta.}
Nech $T'$ je rozšírenie teórie $T, L$. Ak $m$ je model $T'$ a $m:m'\triangle L$, tak $m$ je model $T$.

\paragraph{Dôkaz} To, čo sme tu už porozprávali. $m'$ je model $T$',
$A \in T$, $A$ je axioma $T$, $m' \models A \iff M \models A$.

Nasledujú dve vety o kompaktnosti a ich dôsledky. Dávajú nám konečnú charakterizáciu splniteľnosti.

\paragraph{Veta} \emph{O kompaktnosti.}
 $T$ je množina formúl jaz. $L$, $A$ je formula $L$, $T \models A \iff T' \models A, T' \subseteq T, T$ je konečná.

\paragraph{Dôkaz}


G\"odel: $T \models A \iff T \provable A$

$A_1, A_2 ... A_n(A)$ je konečná postupnosť formúl - konečne veľa axiom z $T$.

$T' = \{B_1, B_2 ... B_m\}$, $B_i$ - axiomy v $T$ nachádzajúce sa v dôkaze $A$

Môžeme napísať $T' \provable A \iff T' \models A$.

\paragraph{}
Na základe vety o kompaktnosti ukážeme, že teóriu telies charakteristiky 0 nedokážeme v teórii prvého rádu napísať charakterizovať pomocou konečného počtu axiom. Komut. grupa. distr. zákony ma krát a plus ... rád prvku - konečný, najmenší takýto prvok ... teleso konečnej charakteristiky. A tak ďalej.


\section{Prednáška 12.3.2009}

\par \textbf{Zapísal:} P. Struhár

\par

\paragraph{Veta o kompaktnosti} bola minule.

\paragraph{}
Nech $A$ je splnená vo všetkých telesách charakteristiky 0.
 $$ T' \models A \iff T'' \subseteq T', T''\mbox{ konečná} $$
 $$ T \models A $$
$T''$ obsahuje len konečne veľa axiom $\neg P_p$. Nech m je najväčší index
axiomy, ktorá patrí to $T''$. Potom formula $A$ je splnená aj vo všetkých telesách dostatočne
veľkej konečnej charakteristiky ($>m$). Ak teda formula je teorémou telies
charakteristiky $0$, tak platí aj vo všetkých telesách dostatočne veľkej charakteristiky.
$$ T' \models A_i \implies T' \models A_1 \land A_2 \land \cdots \land A_n $$
Logikou prvého rádu nemôžem konečným počtom axiom charakterizovať teóriu telies.
V logike prvého rádu kvantifikujem len individuá.

\paragraph{Veta}
Každá konečná množina formúl, ktorá je splnená vo všetkých telesách charakteristiky 0,
je splnená aj vo všetkých telesách dostatočne veľkej konečnej charakteristiky.

\paragraph{Poznámka}
Ak zavedieme ďalší druh premenných, prirodzené čísla, nekonečne veľa axiom
typu $\neg P_p$, nekonečne veľa axiom môžme nahradiť jednou formulou:
$$ (\forall p)(p\times 1\not=0)$$
Toto v literatúre terminologicky nazývajú \emph{slabá logika druhého rádu}. V nej
vieme konečne axiomatizovať teóriu telies charakteristiky 0.
\emph{Veta o kompaktnosti neplatí v slabej logike druhého rádu.}

Mali sme Godelovu vetu v dvoch tvaroch:
$$ T \models A \iff T \provable A$$
Druhý tvar: Teória je bezosporná, keď má model. Z druhého tvaru môžeme sformulovať a dokázať
\emph{vetu o kompaktnosti}.

\paragraph{Veta o kompaktnosti}
Nech $T$ je množina formúl jazyka $L$. Model teórie $T$ existuje $\iff$ každá konečná podmnožina
$T' \subseteq T$, má model.

\paragraph{Dôkaz}
Vieme, že $T$ má model $\iff$ je bezosporná. Viď aj Lindenbaum -- konečná vlastnosť.
Každá $T'$ je bezosporná a teda má model.

Pomocou vety o kompaktnosti tohto tvaru dokážeme zaručiť, že pre Peanovu aritmetiku
existujú aj neštandardné modely. Najprv si však ukážeme Robinsonovu aritmetiku.

\begin{enumerate}
\item $\neg S(x) = 0$
\item $S(x) = S(y) \implies x=y$
\item $x+0 = x$
\item $x+S(y) = S(x+y)$
\item $x\cdot 0 = 0$
\item $x\cdot S(y)= (xy)+x$
Ak pridáme axiomu
\item $A_x[0] \implies ((\forall x)(A \implies A_x[S(x)]) \implies (\forall x)A)$,
\end{enumerate}
dostaneme Peanovu, pričom mám model $n = \langle N^+,0,D,+,-\rangle$

Ukážeme, že Peanova aritmetika má aj neštandardné modely. Zavedieme označenie:

$L$, definujeme $\bar{n}$ - numerály:
\begin{itemize}
\item $\bar{0} = 0$
\item $\overline{n+1} = S(\bar{n}) = S(S \cdots (S(0) \cdots ))$
\end{itemize}

K $L$ zostrojíme $L_c$ (do $L$ pridáme konstantu $c$).
$$\mbox{teória }P_c,\mbox{ jazyk }L_c$$
$$C_n: c \not= \bar{n}$$
$$\mbox{zoberieme }T \subseteq P_c, P_c \mbox{ obsahuje len konečne veľa numerálov.}$$

Vidíme, že každá konečná podmnožina má model, ktorý vznikne expanziou štandardného modelu $n$.
Konštantu c realizujeme indivíduom, ktoré nepatrí do $t$ (čoho?).
Čiže každá $T$ má model a na základe vety o kompaktnosti aj $P_c$ má model. Teraz, keď si všimneme,
že model $P_c$ bude rôzny od štandardného modelu a nebude ani izomorfný, pretože tam máme konštantu $c$.
Každá konečná podmnožina bude mať model. To je zabezpečené, že vznikne expanziou $n$
a bude obsahovať konštantu, ktorá sa predtým nevyskytovala.
$m\triangle L = n$ vznikne redukciou L. Dostaneme $n'$, ktorý bude obshovať konštantu c,
čím bude neštandardný a nebude izomorfný. Vieme, že existuje, ale nevieme ho skonštruovať.
